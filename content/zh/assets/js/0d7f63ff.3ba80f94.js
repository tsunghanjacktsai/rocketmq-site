"use strict";(self.webpackChunkrocketmq_docs=self.webpackChunkrocketmq_docs||[]).push([[4933],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=p(n),m=a,g=s["".concat(l,".").concat(m)]||s[m]||d[m]||c;return n?r.createElement(g,o(o({ref:t},u),{},{components:n})):r.createElement(g,o({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,o=new Array(c);o[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[s]="string"==typeof e?e:a,o[1]=i;for(var p=2;p<c;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},94073:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>c,metadata:()=>i,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const c={},o="RocketMQ EventBridge \u5feb\u901f\u5f00\u59cb",i={unversionedId:"eventbridge/03RocketMQEventBridgeQuickStart",id:"eventbridge/03RocketMQEventBridgeQuickStart",title:"RocketMQ EventBridge \u5feb\u901f\u5f00\u59cb",description:"RocketMQ EventBridge \u9700\u8981\u4e00\u4e2a\u6d88\u606f\u670d\u52a1\u6765\u5b58\u50a8\u4e8b\u4ef6\uff0c\u53e6\u5916\u9700\u8981\u4e00\u4e2aRuntime\u6765\u8ba2\u9605\u5e76\u63a8\u9001\u4e8b\u4ef6\u3002\u8fd9\u91cc\u6211\u4eec\u9009\u62e9 Apache RocketMQ \u4f5c\u4e3a\u6211\u4eec\u7684\u6d88\u606f\u670d\u52a1\uff0c\u9009\u62e9 Apache RocketMQ Connect \u4f5c\u4e3a\u6211\u4eec\u7684Runtime\u6765\u8ba2\u9605\u548c\u63a8\u9001\u4e8b\u4ef6\u3002\u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u4ed6\u6d88\u606f\u670d\u52a1\u4ee3\u66ff\uff0cEventBridge\u5e76\u4e0d\u5bf9\u6b64\u505a\u9650\u5236\u3002\u672a\u6765EventBridge\u4e5f\u8ba1\u5212\u57fa\u4e8eOpenMessaging Connect API \u5b9e\u73b0\u81ea\u5df1\u7684Runtime\uff0c\u4ee5\u4fbf\u66f4\u597d\u7684\u63d0\u4f9b\u4e8b\u4ef6\u9a71\u52a8\u670d\u52a1\u3002",source:"@site/docs/07-eventbridge/03RocketMQEventBridgeQuickStart.md",sourceDirName:"07-eventbridge",slug:"/eventbridge/03RocketMQEventBridgeQuickStart",permalink:"/zh/docs/4.x/eventbridge/03RocketMQEventBridgeQuickStart",draft:!1,editUrl:"https://github.com/apache/rocketmq-site/tree/new-official-website/docs/07-eventbridge/03RocketMQEventBridgeQuickStart.md",tags:[],version:"current",frontMatter:{},sidebar:"myAutogeneratedSidebar",previous:{title:"RocketMQ EventBridge \u6982\u89c8",permalink:"/zh/docs/4.x/eventbridge/02RocketMQEventBridgeOverview"},next:{title:"RocketMQ MQTT \u6982\u89c8",permalink:"/zh/docs/4.x/mqtt/01RocketMQMQTTOverview"}},l={},p=[{value:"\u90e8\u7f72Apache RocketMQ",id:"\u90e8\u7f72apache-rocketmq",level:2},{value:"\u90e8\u7f72Apache RocketMQ Connect",id:"\u90e8\u7f72apache-rocketmq-connect",level:2},{value:"\u90e8\u7f72RocketMQ EventBridge",id:"\u90e8\u7f72rocketmq-eventbridge",level:2},{value:"Demo",id:"demo",level:2}],u={toc:p},s="wrapper";function d(e){let{components:t,...c}=e;return(0,a.kt)(s,(0,r.Z)({},u,c,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"rocketmq-eventbridge-\u5feb\u901f\u5f00\u59cb"},"RocketMQ EventBridge \u5feb\u901f\u5f00\u59cb"),(0,a.kt)("p",null,"RocketMQ EventBridge \u9700\u8981\u4e00\u4e2a\u6d88\u606f\u670d\u52a1\u6765\u5b58\u50a8\u4e8b\u4ef6\uff0c\u53e6\u5916\u9700\u8981\u4e00\u4e2aRuntime\u6765\u8ba2\u9605\u5e76\u63a8\u9001\u4e8b\u4ef6\u3002\u8fd9\u91cc\u6211\u4eec\u9009\u62e9 Apache RocketMQ \u4f5c\u4e3a\u6211\u4eec\u7684\u6d88\u606f\u670d\u52a1\uff0c\u9009\u62e9 Apache RocketMQ Connect \u4f5c\u4e3a\u6211\u4eec\u7684Runtime\u6765\u8ba2\u9605\u548c\u63a8\u9001\u4e8b\u4ef6\u3002\u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u4ed6\u6d88\u606f\u670d\u52a1\u4ee3\u66ff\uff0cEventBridge\u5e76\u4e0d\u5bf9\u6b64\u505a\u9650\u5236\u3002\u672a\u6765EventBridge\u4e5f\u8ba1\u5212\u57fa\u4e8eOpenMessaging Connect API \u5b9e\u73b0\u81ea\u5df1\u7684Runtime\uff0c\u4ee5\u4fbf\u66f4\u597d\u7684\u63d0\u4f9b\u4e8b\u4ef6\u9a71\u52a8\u670d\u52a1\u3002"),(0,a.kt)("p",null,"\u7cfb\u7edf\u8981\u6c42:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"64\u4f4d\u64cd\u4f5c\u7cfb\u7edf\uff0c\u63a8\u8350 Linux/Unix/macOS"),(0,a.kt)("li",{parentName:"ul"},"64\u4f4d JDK 1.8+")),(0,a.kt)("h2",{id:"\u90e8\u7f72apache-rocketmq"},"\u90e8\u7f72Apache RocketMQ"),(0,a.kt)("p",null,"Apache RocketMQ \u662f\u4e00\u4e2a\u5f88\u68d2\u7684\u6d88\u606f\u670d\u52a1\uff0c\u6211\u4eec\u9ed8\u8ba4\u9009\u62e9\u5b83\u4f5c\u4e3aEventBus\u7684\u9ed8\u8ba4\u5b58\u50a8\u3002\u8fd9\u91cc\u60a8\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u624b\u518c\u5feb\u901f\u90e8\u7f72: ",(0,a.kt)("a",{parentName:"p",href:"https://rocketmq.apache.org/docs/quick-start/"},"Apache RocketMQ Quick Start")),(0,a.kt)("h2",{id:"\u90e8\u7f72apache-rocketmq-connect"},"\u90e8\u7f72Apache RocketMQ Connect"),(0,a.kt)("p",null,"\u6211\u4eec\u4f7f\u7528Apache RocketMQ Connect\u4f5c\u4e3a\u6211\u4eec\u7684\u9ed8\u8ba4Runtime\uff0c\u6765\u8fde\u63a5\u5916\u90e8\u7684\u4e0a\u4e0b\u6e38\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u624b\u518c\u5b8c\u6210\u90e8\u7f72: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/apache/rocketmq-connect"},"RocketMQ Connect Quick Start")," \u3002\u5728\u90e8\u7f72 Apache RocketMQ Connect \u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u4e0b\u8f7d\u4e0b\u9762\u7684\u63d2\u4ef6\uff0c\u5e76\u5c06\u5176\u653e\u5728rocketmq-connect\u4e2d\u914d\u7f6e\u53c2\u6570\u201cpluginPaths\u201d\u6240\u5b9a\u4e49\u7684\u76ee\u5f55\u4e0b\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://cn-hangzhou-eventbridge.oss-cn-hangzhou.aliyuncs.com/rocketmq-connect-eventbridge-0.0.1-SNAPSHOT-jar-with-dependencies.jar"},"rocketmq-connect-eventbridge-jar-with-dependencies.jar")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://cn-hangzhou-eventbridge.oss-cn-hangzhou.aliyuncs.com/rocketmq-connect-dingtalk-1.0-SNAPSHOT-jar-with-dependencies.jar"},"rocketmq-connect-dingtalk-jar-with-dependencies.jar")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://cn-hangzhou-eventbridge.oss-cn-hangzhou.aliyuncs.com/connect-cloudevent-transform-1.0.0-SNAPSHOT-jar-with-dependencies.jar"},"connect-cloudevent-transform-jar-with-dependencies.jar")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://cn-hangzhou-eventbridge.oss-cn-hangzhou.aliyuncs.com/connect-filter-transform-1.0.0-SNAPSHOT-jar-with-dependencies.jar"},"connect-filter-transform-jar-with-dependencies.jar")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://cn-hangzhou-eventbridge.oss-cn-hangzhou.aliyuncs.com/connect-eventbridge-transform-1.0.0-SNAPSHOT-jar-with-dependencies.jar"},"connect-eventbridge-transform-jar-with-dependencies.jar"))),(0,a.kt)("h2",{id:"\u90e8\u7f72rocketmq-eventbridge"},"\u90e8\u7f72RocketMQ EventBridge"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u83b7\u53d6 EventBridge")),(0,a.kt)("p",null,"\u4f60\u53ef\u4ee5\u4ece",(0,a.kt)("a",{parentName:"p",href:"https://www.apache.org/dyn/closer.cgi?path=rocketmq/rocketmq-eventbridge/1.0.0/rocketmq-eventbridge-1.0.0-bin-release.zip"},"\u8fd9\u91cc"),"\u4e0b\u8f7dEventBridge\u7684\u4e8c\u8fdb\u5236\u5305\uff1arocketmq-eventbridge-xxx-bin-release.zip,\u4e0b\u8f7d\u5b8c\u6bd5\u540e\u8fdb\u884c\u89e3\u538b\u7f29\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u5982\u4e0b\u76ee\u5f55\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"/rocketmq-eventbridge-xxx-bin-release/\n|\u2014\u2014bin\n|   |\u2014\u2014runserver.sh\n|   |\u2014\u2014eventbridge.sh\n|\u2014\u2014config\n|   |\u2014\u2014application.properties\n|\u2014\u2014jar\n|   |\u2014\u2014rocketmq-eventbridge.jar\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u914d\u7f6e EventBridge")),(0,a.kt)("p",null,"\u8fd0\u884c\u524d\uff0c\u6211\u4eec\u9700\u8981\u914d\u7f6eEventBridge\u7684\u8fd0\u884c\u73af\u5883\uff0c\u4fee\u6539config/application.properties,\u53c2\u8003\u5982\u4e0b\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-properties"},"# Mysql\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5730\u5740\nspring.datasource.url=jdbc:mysql://xxxx:3306/xxxx?characterEncoding=utf8\nspring.datasource.username=xxx\nspring.datasource.password=xxxx\n\n# RocketMQ nameserver\u7684\u8fde\u63a5\u5730\u5740\nrocketmq.namesrvAddr=xxxxx:9876\n\n# RocketMQ\u7684\u96c6\u7fa4\u540d\u79f0.\nrocketmq.cluster.name=DefaultCluster\n\n# RocketMQ Connect\u7684\u8fde\u63a5\u5730\u5740\nrocketmq.connect.endpoint=xxxxxx:8082\n\n# log\u9ed8\u8ba4\u914d\u7f6e\nlog.path=\uff5e\nlog.level=INFO\napp.name=rocketmq-eventbridge\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u542f\u52a8 EventBridge")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"sh bin/eventbridge.sh start \n")),(0,a.kt)("p",null,"log\u9ed8\u8ba4\u76ee\u5f55\u4e3a\uff5e/rocketmq-eventbridge/rocketmq-eventbridge.log,\u53ef\u4ee5\u4fee\u6539\u4e0a\u8ff0log.path\u548capp.name\u8fdb\u884c\u4fee\u6539\u3002\u53ef\u4ee5\u901a\u8fc7\u65e5\u5fd7\u6765\u89c2\u5bdf\u670d\u52a1\u662f\u5426\u6b63\u5e38\u542f\u52a8\uff1a\n",(0,a.kt)("img",{alt:"img.png",src:n(8549).Z,width:"3540",height:"612"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6d4b\u8bd5 EventBridge")),(0,a.kt)("p",null,"\u5f53\u670d\u52a1\u542f\u52a8\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684Demo\u7528\u4f8b\u6765\u6d4b\u8bd5\u548c\u9a8c\u8bc1EventBridge\u3002"),(0,a.kt)("h2",{id:"demo"},"Demo"),(0,a.kt)("h4",{id:""}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e8b\u4ef6\u603b\u7ebf")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},'POST /bus/createEventBus HTTP/1.1\nHost: demo.eventbridge.com\nContent-Type: application/json; charset=utf-8\n{\n"eventBusName":"demo-bus",\n"description":"a demo bus."\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e8b\u4ef6\u6e90")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},'POST /source/createEventSource HTTP/1.1\nHost: demo.eventbridge.com\nContent-Type: application/json; charset=utf-8\n{\n"eventBusName":"demo-bus",\n"eventSourceName":"demo-source",\n"description":"A demo source."\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e8b\u4ef6\u89c4\u5219")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},'POST /rule/createEventRule HTTP/1.1\nHost: demo.eventbridge.com\nContent-Type: application/json; charset=utf-8\n{\n  "eventBusName":"demo-bus",\n  "eventRuleName":"demo-rule",\n  "description":"A demo rule.",\n  "filterPattern":"{}"\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e8b\u4ef6\u76ee\u6807")),(0,a.kt)("p",null,"\u521b\u5efa\u4e00\u4e2a\u6295\u9012\u5230\u4e91\u4e0aEventBridge\u7684\u4e8b\u4ef6\u76ee\u6807\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},'POST /target/createEventTargets HTTP/1.1\nHost: demo.eventbridge.com\nContent-Type: application/json; charset=utf-8\n{\n    "eventBusName":"demo-bus",\n    "eventRuleName":"demo-rule",\n    "eventTargets":[\n            {\n            "eventTargetName":"eventbridge-target",\n            "className":"acs.eventbridge",\n                "config":{\n                "RegionId":"cn-hangzhou",\n                "AliyunEventBus":"rocketmq-eventbridge"\n                }\n            }\n        ]\n}\n')),(0,a.kt)("p",null,"\u521b\u5efa\u4e00\u4e2a\u6295\u9012\u5230\u9489\u9489\u673a\u5668\u4eba\u63a8\u9001\u901a\u77e5\u7684\u4e8b\u4ef6\u76ee\u6807\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},'POST /target/createEventTargets HTTP/1.1\nHost: demo.eventbridge.com\nContent-Type: application/json; charset=utf-8\n{\n    "eventBusName":"demo-bus",\n    "eventRuleName":"demo-rule",\n    "eventTargets":[\n        {\n            "eventTargetName":"dingtalk-target",\n            "className":"acs.dingtalk",\n            "config":{\n            "WebHook":"https://oapi.dingtalk.com/robot/send?access_token=b43a54b702314415c2acdae97eda1e092528b7a9dddb31510a5b4430be2ef867",\n            "SecretKey":"SEC53483bf496b8f9e0b4ab0ab669d422208e6ccfaedfd5120ea6b8426b9ecd47aa",\n            "Body":"{\\"template\\":\\"{\\\\\\"text\\\\\\":{\\\\\\"content\\\\\\":\\\\\\"${content}\\\\\\"},\\\\\\"msgtype\\\\\\":\\\\\\"text\\\\\\"}\\",\\"form\\":\\"TEMPLATE\\",\\"value\\":\\"{\\\\\\"content\\\\\\":\\\\\\"$.data.body\\\\\\"}\\"}"\n            }\n        }\n    ]\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u53d1\u9001\u4e8b\u4ef6\u5230EventBus"),(0,a.kt)("p",{parentName:"li"},"\u6700\u540e\uff0c\u6211\u4eec\u901a\u8fc7API\u53d1\u9001\u4e00\u6761\u4e8b\u4ef6\uff0c\u5e76\u9a8c\u8bc1Target\u7aef\u662f\u5426\u6309\u9884\u671f\u6536\u5230\u5bf9\u5e94\u7684\u4e8b\u4ef6\u3002"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},'POST /putEvents HTTP/1.1\nHost: demo.eventbridge.com\nContent-Type:"application/cloudevents+json; charset=UTF-8"\n{\n  "specversion" : "1.0",\n  "type" : "com.github.pull_request.opened",\n  "source" : "https://github.com/cloudevents/spec/pull",\n  "subject" : "123",\n  "id" : "A234-1234-1234",\n  "time" : "2018-04-05T17:31:00Z",\n  "datacontenttype" : "application/json",\n  "data" : {\n    "body":"demo"\n  },\n  "aliyuneventbusname":"demo-bus"\n}\n')))}d.isMDXComponent=!0},8549:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/Started-284e7a8c9a25eecdff4498d093654fac.png"}}]);